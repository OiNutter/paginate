var paginate=function(t,e,n){function a(t,e,n){var a=document.createElement("a");a["data-target"]=n||t,a.innerHTML="<span>"+e+"</span>",a=s(a),g.appendChild(a)}function r(){var t=document.createElement("span");t.className="paginate-dots",t.innerHTML="...",g.appendChild(t)}function o(){var t,e=g.querySelectorAll(".paginate-bt");for(t=0;t<e.length;t++)s(e[t])}function s(t){m(t,"click");var e,n,a=t["data-target"],r="paginate-"+a+"-bt paginate-bt";switch(a){case"first":case"prev":case"jumpback":1==h&&(r+=" disabled");break;case"last":case"next":case"jumpforward":h==v&&(r+=" disabled");break;default:h==parseInt(a)&&(r+=" active")}return t.className=r,e||n||l(t,"click",y),t}function u(t){if("object"!=typeof t)return[];var e,n=[];for(e in t)n.push(t[e]);return n}function i(t,e){var n,a;for(n in e)if(u(t[n]).length>0&&u(e[n]).length>0)for(a in e[n])t[n][a]=e[n][a];else t[n]=e[n];return t}function c(t){return t&&"[object Function]"==={}.toString.call(t)}function f(t){return t._zid||(t._zid=P++)}function l(t,e,n){var a=f(t);F[a]||(F[a]={}),F[a][e]||(F[a][e]=[]),F[a][e].push(n),t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent(e,n)}function m(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent(e,n)}var g,d,h,p,v,w,b,F={},P=1,k={},T=function(){if(1!=v){var t,e=Math.min(p-1+d.numPagesToShow,v);for(g.innerHTML="",d.limitButtons&&a("first","|&lt;"),d.fastForwardButtons&&a("jumpback","&lt;&lt;"),a("prev","&lt;"),d.showDots&&1!=p&&r(),t=p;e>=t;t++)a("page",t,t);d.showDots&&v>t&&r(),a("next","&gt;"),d.fastForwardButtons&&a("jumpforward","&gt;&gt;"),d.limitButtons&&a("last","&gt;|")}},y=function(t){var n,a,r;switch("event"==typeof t?(n=t.currentTarget,a=n["data-target"]):a=t,a){case"first":r=1;break;case"prev":r=Math.max(1,h-1);break;case"jumpback":r=Math.max(1,h-d.numPagesToShow);break;case"last":r=v;break;case"next":r=Math.min(v,h+1);break;case"jumpforward":r=Math.min(v,h+d.numPagesToShow);break;default:r=parseInt(a)}r!=h&&(e[d.navFunc](r),h=r,h>=p&&h<=Math.min(p-1+d.numPagesToShow,v-(p-1))?o():(p=p>h?h:h-(d.numPagesToShow-1),0>p||p>v&&(p=v),T()),d.onChange(r))},S=function(){v=e[d.numPagesFunc](),p=1,h=1,T()};if(d=i({showDots:!0,limitButtons:!0,fastForwardButtons:!1,numPagesToShow:5,start:1,onChange:function(){},numPagesFunc:"numPages",navFunc:"jumpTo",resetFuncs:["filter","reset"]},n),"string"==typeof t&&null==document.querySelector(t))throw"Element "+t+" does not exist!";if(g="string"==typeof t?document.querySelector(t):t,!e)throw"No gallery supplied";if(!e[d.numPagesFunc]||!c(e[d.numPagesFunc]))throw"gallery has no method numPages";for(v=e[d.numPagesFunc](),w=0;w<d.resetFuncs.length;w++)b=d.resetFuncs[w],e[b]&&c(e[b])&&(k[b]=e[b],e[b]=function(t){return function(){k[t].apply(e,arguments),S()}}(b));return p=d.start,h=p,T(),{goToPage:y,render:T,refresh:S}};