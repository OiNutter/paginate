var guggenheim=function(t,e){function r(t){return t.toLowerCase()}function n(t){return T?T+t:r(t)}function i(t){if("object"!=typeof t)return[];var e,r=[];for(e in t)r.push(e);return r}function o(t){if("object"!=typeof t)return[];var e,r=[];for(e in t)r.push(t[e]);return r}function a(t,e){var r,n;for(r in e)if(o(t[r]).length>0&&o(e[r]).length>0)for(n in e[r])t[r][n]=e[r][n];else t[r]=e[r];return t}function l(t){var e=window.getComputedStyle?window.getComputedStyle(t,null):t.currentStyle;return{height:parseFloat(e.height)+(parseFloat(e.paddingTop)||0)+(parseFloat(e.paddingBottom)||0)+(parseFloat(e.borderTopWidth)||0)+(parseFloat(e.borderBottomWidth)||0),width:parseFloat(e.width)+(parseFloat(e.paddingLeft)||0)+(parseFloat(e.paddingRight)||0)+(parseFloat(e.borderLeftWidth)||0)+(parseFloat(e.borderRightWidth)||0),margin:{top:parseFloat(e.marginTop)||0,right:parseFloat(e.marginRight)||0,bottom:parseFloat(e.marginBottom)||0,left:parseFloat(e.marginLeft)||0},padding:{top:parseFloat(e.paddingTop)||0,right:parseFloat(e.paddingRight)||0,bottom:parseFloat(e.paddingBottom)||0,left:parseFloat(e.paddingLeft)||0}}}function s(t){return t._zid||(t._zid=N++)}function u(t,e,r){var n=s(t);I[n]||(I[n]={}),I[n][e]||(I[n][e]=[]),I[n][e].push(r),t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent(e,r)}function p(t,e,r){t.removeEventListener?t.removeEventListener(e,r,!1):t.detachEvent(e,r)}function f(t,e,r){var n=s(t);if(I[n]&&I[n][e])for(var i=0;i<I[n][e].length;i++)(null==r||r==I[n][e][i])&&(I[n][e].splice(i,1),p(t,e,I[n][e][i]))}function h(t,e,r){return parseFloat(t+(e-t)*r).toFixed(3)}function g(t,e,r){return t.substr(e,r||1)}function d(t,e,r){for(var n,i,o,a=2,l=[],s=[];n=3,i=arguments[a-1],a--;)if("r"==g(i,0))for(i=i.match(/\d+/g);n--;)l.push(~~i[n]);else for(4==i.length&&(i="#"+g(i,1)+g(i,1)+g(i,2)+g(i,2)+g(i,3)+g(i,3));n--;)l.push(parseInt(g(i,1+2*n,2),16));for(;n--;)o=~~(l[n+3]+(l[n]-l[n+3])*r),s.push(0>o?0:o>255?255:o);return"rgb("+s.join(",")+")"}function c(t){var e=parseFloat(t),r=t.replace(/^[\-\d\.]+/,"");return isNaN(e)?{v:r,f:d,u:""}:{v:e,f:h,u:r}}function y(t,e,r){var i,o,a,l,s,p,h=[],g=(new Date).getTime(),d=1e3*v.duration,y=g+d,m=t.currentStyle?t.currentStyle:getComputedStyle(t,null),w={},b={};if(""!=L){for(i in e)h.push(i);t.style.setProperty(L+"transition-property",h.join(", "),""),t.style.setProperty(L+"transition-duration",v.duration+"s",""),t.style.setProperty(L+"transition-timing-function",v.easing,""),f(t,n("TransitionEnd")),v.duration>0&&u(t,n("TransitionEnd"),r);for(i in e)t.style[i]=e[i]}else{for(a in e)b[a]=c(e[a]);for(a in e)w[a]=c("opacity"===a?B(m):m[a]);o=setInterval(function(){l=(new Date).getTime(),s=l>y?1:(l-g)/d;for(a in b)p=b[a].f(w[a].v,b[a].v,A[v.easing](s))+b[a].u,"opacity"===a?W(t,p):t.style[a]=p;l>y&&(clearInterval(o),void 0!==r&&r.call())},10)}}function m(){var t,e=0,r=0,n=0,i=0,o=0,a=0,s=l(w);for(t=0;t<x.length;t++)$=l(x[t]),o=$.padding.left+$.padding.right,a=$.padding.top+$.padding.bottom,$.width>e&&(e=$.width-o),$.height>r&&(r=$.height-a),o>n&&(n=o),a>i&&(i=a);for("auto"!=v.cols&&e>s.width/v.cols&&(e=Math.floor(s.width/v.cols)-o),"auto"!=v.rows&&r>s.height/v.rows&&(r=Math.floor(s.height/v.rows)-a),t=0;t<x.length;t++)x[t].style.position="absolute",x[t].style.width=e+"px",x[t].style.height=r+"px",x[t].style.left="0px",x[t].style.top="0px",q?x[t].style.opacity=1:x[t].style.filter="alpha(opacity=100)"}var w,v,b,x,F={Webkit:"webkit",Moz:"",O:"o",ms:"MS"},P=window.document,S=P.createElement("div"),M={},A={ease:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t}},E=!1,L="",T="",j=[],O=[],q="string"==typeof S.style.opacity,C="string"==typeof S.style.filter,R=/alpha\(opacity=([^\)]+)\)/,W=function(){},B=function(){return"1"},I={},N=1,z=function(){return!0},k=function(){E=!1};q?(W=function(t,e){t.style.opacity=parseFloat(e)},B=function(t){return t.opacity}):C&&(W=function(t,e){var r=t.style;e=parseFloat(e),R.test(r.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",r.filter=r.filter.replace(R,e)):r.filter+=" alpha(opacity="+100*e+")"},B=function(t){var e=t.filter.match(R);return(e?e[1]/100:1)+""});var D=function(){if(E)return!1;E=!0;var t=l(w),e=(l(x[0]),H()),r=(e*t.width,v.cols*v.rows),n=G(),i=j.slice((n-2)*r,(n-2)*r+r);return i.length?y(b,{left:parseFloat(b.offsetLeft)+t.width-t.padding.left+"px"},k):E=!1,i},V=function(){if(E)return!1;E=!0;var t=l(w),e=(l(x[0]),H()),r=(e*t.width,v.cols*v.rows),n=G(),i=j.slice(n*r,n*r+r);return i.length?y(b,{left:parseFloat(b.offsetLeft)-t.width-t.padding.left+"px"},k):E=!1,i},_=function(t,e){if(E)return!1;null==e&&(e=!0),E=!0;var r=l(w),n=(l(x[0]),H()),i=(n*r.width,G()),o=-((t-1)*(r.width-r.padding.left))+"px",a=v.cols*v.rows,s=j.slice((t-1)*a,(t-1)*a+a);return i!=t&&n>=t&&t>0?(e?y(b,{left:o},k):b.style.left=o,E=!1):E=!1,s},G=function(){var t=l(w),e=Math.ceil(-parseFloat(b.style.left)/t.width)+1;return"number"==typeof e?e:1},H=function(){return Math.ceil(j.length/(v.rows*v.cols))},J=function(t){var e=j.indexOf(t);return G(),numPerPage=v.rows*v.cols,start=(G()-1)*numPerPage,end=start+numPerPage<=j.length?start+numPerPage:j.length,-1!=e&&e>=start&&end>e},K=function(t){if(!x.length)return!1;var e,r,n,i,o,a=0,s=0,u=l(x[0]),p=l(w),f=0,h={};for(("string"==typeof t||Array.isArray(t))&&("string"==typeof t&&(t=[t]),i="(?=.*\\b("+t.join(")\\b)(?=.*\\b(")+")\\b)",t=function(t){return new RegExp(i).test(t.className)}),z=t,j=[],y(b,{left:p.padding.left+"px"}),n=0;n<O.length;n++)o=O[n],t(o)?(j.push(o),e=(u.height+u.margin.bottom+u.margin.top)*a,r=(u.width+u.margin.right+u.margin.left)*s+p.width*f,h={top:e+"px",left:r+"px",opacity:"1"},s++,s==v.cols&&(s=0,a++,a==v.rows&&(a=0,f++))):h={opacity:"0"},y(O[n],h);return j},Q=function(t){if(!x.length)return!1;var e,r,n,i,o=0,a=0,s=l(x[0]),u=l(w),p=0,f={},h=[];for(O=[],n=0;n<t.length;n++)i="string"==typeof t[n]?w.querySelector(t[n]):t[n],O.push(i),-1!=j.indexOf(i)&&(h.push(i),e=(s.height+s.margin.bottom+s.margin.bottom)*o,r=(s.width+s.margin.right+s.margin.left)*a+u.width*p,f={top:e+"px",left:r+"px",opacity:"1"},y(i,f),a++,a==v.cols&&(a=0,o++,o==v.rows&&(o=0,p++)));return j=h,O},U=function(){var t;for(j=O=[],t=0;t<x.length;t++)j.push(x[t]);O=j,Q(O)},X=function(t,e){var r=l(x[0]),n=z(t);return t.style.position="absolute",t.style.width=r.width-r.padding.left-r.padding.right+"px",t.style.height=r.height-r.padding.top-r.padding.bottom+"px",q?t.style.opacity=n?1:0:t.style.filter="alpha(opacity="+(n?100:0)+")",b.appendChild(t),n&&j.splice(e-1,0,t),O.splice(e-1,0,t),x=w.querySelectorAll(v.selector),Q(O),j},Y=function(t){var e=j.indexOf(t),r=e==j.length-1&&1==j.length%(v.rows*v.cols);return O.splice(O.indexOf(t),1),j.splice(e,1),b.removeChild(t),x=w.querySelectorAll(v.selector),j.length&&Q(O),r&&_(G()-1),j},Z=function(){var t=v.rows*v.cols;return j.slice((G()-1)*t,t)};if("string"==typeof t&&null==P.querySelector(t))throw"Element "+t+" does not exist!";if(w="string"==typeof t?P.querySelector(t):t,v=a({selector:"div.guggenheim-item",rows:"auto",cols:"auto",duration:.5,easing:"ease",slider:"div.guggenheim-slider",width:null,height:null},e),w.style.overflow="hidden",""==w.style.position&&(w.style.position="relative"),null!=v.width&&(w.style.width=v.width+"px"),null!=v.height&&(w.style.height=v.height+"px"),x=w.querySelectorAll(v.selector),!x.length)throw"Gallery is empty";var $,te,ee,b,re=l(w),ne=o(F),ie=i(F);return"auto"==v.cols&&($=l(x[0]),te=$.width+$.margin.left+$.margin.right,v.cols=Math.floor(re.width/te)),"auto"==v.rows&&($=l(x[0]),ee=$.height+$.margin.top+$.margin.bottom,v.rows=Math.floor(re.height/ee)),m(),b=w.querySelector(v.slider),b.style.left=re.padding.left+"px",b.style.position="relative",function(){for(var t=0;t<ie.length;t++)if(void 0!==S.style[ie[t]+"TransitionProperty"])return L="-"+r(ie[t])+"-",T=ne[t],!1}(),M[L+"transition-property"]=M[L+"transition-duration"]=M[L+"transition-timing-function"]=M[L+"animation-name"]=M[L+"animation-duration"]="",U(),{reset:U,order:Q,filter:K,prev:D,next:V,jumpTo:_,currentPage:G,numPages:H,remove:Y,add:X,isVisible:J,getVisible:Z}};Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){"use strict";if(null==this)throw new TypeError;var e,r,n=Object(this),i=n.length>>>0;if(0===i)return-1;if(e=0,arguments.length>0&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&1/0!=e&&e!=-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e)))),e>=i)return-1;for(r=e>=0?e:Math.max(i-Math.abs(e),0);i>r;r++)if(r in n&&n[r]===t)return r;return-1});